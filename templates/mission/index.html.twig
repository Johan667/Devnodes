{% extends 'base.html.twig' %}

{% block title %}Devnodes | Mes missions{% endblock %}



{% block body %}
    <!-- En tête titre -->
    <h1 class="text-center mt-3">Mes missions</h1>
    <p class="text-center mt-3"> Ici vous pouvez voir et modifier toutes les informations relatives à vos missions.</p>
    <br>

    <!-- Wrapper -->
    <div class="wrapper">

        {% for mission in missions %}

            <div class="headTitle">
                <div><b>{{ mission.title }}</b></div>
                <div>{{ mission.startDate|date("d/m/Y") }}</div>
                <br>
            </div>

            Nom du client : <b>{{ mission.sendMission.lastname }} {{ mission.sendMission.firstname }}</b><br>
            Entreprise : <b>{{ mission.sendMission.denominationCompany }}</b><br>
            Email : <b>{{ mission.sendMission.email }}</b><br>
            Téléphone : <b>{{ mission.sendMission.phone }}</b><br>

            <div class="footerMission">
                Statut de la mission : <span class="stateMission">{{ mission.state }}</span>
                <div class="grp-btnn mb-3">
                    <button type="button" class="btn btn-secondary"><i class="fa-sharp fa-solid fa-message"></i>
                    </button>
                    <button
                        type="button"
                        class="btn btn-secondary"
                        data-bs-toggle="modal"
                        data-bs-target="#exampleModal{{ mission.id }}"
                    >
                            <i class="fa-solid fa-eye"></i>
                         Voir
                    </button>
                    <br>
                </div>
            </div>
            <br>
            <hr>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal{{ mission.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel"><b>{{ mission.title }}</b></h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <b>Début de mission souhaité : {{ mission.startDate|date("d/m/Y")}}</b><br><br>

                            Nom du client : <b>{{ mission.sendMission.lastname }} {{ mission.sendMission.firstname }}</b><br>
                            Entreprise : <b>{{ mission.sendMission.denominationCompany }}</b><br>
                            Email : <b>{{ mission.sendMission.email }}</b><br>
                            Téléphone : <b>{{ mission.sendMission.phone }}</b><br>

                        <hr><br>

                            <b>Objet de la mission :</b> <p>{{ mission.object }}</p>
                            <hr>
                            <b>Description de la mission :</b><br>
                            <p>{{ mission.description }}</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success" data-bs-dismiss="modal">Accepter</button>
                            <button type="button" class="btn btn-danger">Refuser</button>
                            <button type="button" class="btn btn-secondary">Contacter le client</button>
                        </div>
                    </div>
                </div>
            </div>

        {% endfor %}


    </div>

{% endblock %}
